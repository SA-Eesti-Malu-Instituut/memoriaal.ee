.baas-header
    display flex
    justify-content space-between
    align-items center
    margin-bottom 0.5em
    h3
        margin-bottom 0

.lang-toggle
    display flex
    gap 0.25em
    .lang-toggle-btn
        padding 0.25em 0.75em
        border-radius 0.25em
        font-size 0.8em
        font-weight 600
        text-decoration none
        color var(--emem-nuputaust)
        border 1px solid var(--emem-nuputaust)
        transition background-color 0.2s, color 0.2s
        &.active
            background-color var(--emem-nuputaust)
            color var(--emem-v2ljataust)
        &:hover:not(.active)
            background-color var(--emem-nupp-hover)
            color var(--emem-valge)

.baas-description
    font-size 0.9em
    color var(--emem-valge)
    line-height 1.5

#search
    max-width 1280px
    margin 0 auto
    margin-top 1.25rem
    padding 0 1.5rem

#toggleAdvanced
    width 100%
    padding 0.5em 1em
    margin-bottom 0.75em
    background-color transparent
    border 1px solid rgba(49, 2, 2, 0.3)
    border-radius 0.4em
    color var(--emem-valge)
    font-size 0.85em
    font-weight 500
    cursor pointer
    display flex
    justify-content space-between
    align-items center
    transition all 0.2s
    &:hover
        background-color rgba(49, 2, 2, 0.15)
    .toggle-chevron
        font-size 0.7em
        margin-left 0.5em

#searchForm
    border-radius 0.5em
    padding 1em 0

    // Main search bar
    .col-12:first-child
        display flex
        gap 0
        margin-bottom 1em
        align-items stretch
        flex-wrap nowrap

        #mainSearchInput
            min-width 0

        #clearSearchButton
            margin-left 0.6em
            white-space nowrap
            flex-shrink 0

        #mainSearchButton
            flex-shrink 0

    #mainSearchInput
        border 1px solid rgba(49, 2, 2, 0.2)
        border-right none
        border-radius 0.4em 0 0 0.4em
        padding 0.6em 1em
        font-size 1em
        color var(--emem-v2ljatekst)
        background-color var(--emem-v2ljataust)
        transition border-color 0.2s
        &:focus
            outline none
            border-color var(--emem-nuputaust)

    #mainSearchButton
        color var(--emem-v2ljataust)
        background-color var(--emem-nuputaust)
        border 1px solid var(--emem-nuputaust)
        border-radius 0 0.4em 0.4em 0
        font-weight 500
        padding 0.6em 1.5em
        cursor pointer
        font-size 1em
        transition background-color 0.2s
        &:hover
            background-color var(--emem-nupp-hover)
            color var(--emem-valge)

    // Detail fields section
    #episoodifilter
        padding-top 0.5em
        label
            text-align right
            padding 0.3em 1em 0 0
            margin-bottom 0.1em
            margin-right 0
            font-size 0.9em
            color var(--emem-valge)
            font-weight 500
            line-height 1.2
        .form-check
            margin-bottom 0.4em !important
            margin-top 0.4em !important
        input.form-check-input.emem-text-input[type='search']
            position static
            margin-left 0
            margin-top 0
        .elukoht-row
            display flex
            align-items center
            .form-check-label
                margin-bottom 0
            .elukoht-autocomplete
                padding-left 0
                padding-right 0

.elukoht-autocomplete
    position relative
    input.emem-text-input
        width 100%

.autocomplete-suggestions
    position absolute
    top calc(100% + 0.2rem)
    left 0
    right 0
    z-index 50
    background-color var(--emem-v2ljataust)
    border 1px solid rgba(49, 2, 2, 0.25)
    border-radius 0.3em
    max-height 14rem
    overflow-y auto
    box-shadow 0 6px 12px rgba(0, 0, 0, 0.2)

.autocomplete-option
    display block
    width 100%
    text-align left
    border 0
    background transparent
    color var(--emem-v2ljatekst)
    padding 0.45em 0.7em
    font-size 0.9em
    cursor pointer
    &:hover
        background-color rgba(49, 2, 2, 0.08)

#searchForm
    #clearSearchButton
        background-color var(--emem-v2ljataust)
        border 1px solid var(--emem-nupp-hover)
        border-radius 0.3em
        color var(--emem-v2ljatekst)
        cursor pointer
        padding 0.35em 1em
        font-size 0.85em
        font-weight 700
        transition all 0.2s
        &:hover
            background-color var(--emem-nupp-hover)
            border-color var(--emem-nupp-hover)
            color var(--emem-valge)

    .emem-text-input
        color var(--emem-v2ljatekst)
        background-color var(--emem-v2ljataust)
        opacity 1
        border 1px solid rgba(49, 2, 2, 0.2)
        border-radius 0.3em
        padding 0.35em 0.6em
        font-size 0.9em
        transition border-color 0.2s
        &:focus
            outline none
            border-color var(--emem-nuputaust)

    hr
        border-color rgba(49, 2, 2, 0.1)
        margin 0.75em 0

    .form-check.col-lg-4
        padding-top 0.5em
        .form-check
            display inline-block
            margin 0.2em 0.15em !important
            input.form-check-input
                display none
                &:checked + label
                    background-color var(--emem-nuputaust)
                    color var(--emem-v2ljataust)
                    border-color var(--emem-nuputaust)
            label.form-check-label
                display inline-block
                padding 0.25em 0.75em
                border 1px solid rgba(49, 2, 2, 0.3)
                border-radius 1em
                font-size 0.8em
                color var(--emem-valge)
                cursor pointer
                transition all 0.2s
                &:hover
                    background-color rgba(49, 2, 2, 0.08)

#search-count
    font-weight 500

// Baas-specific search results styling (scoped under #search to avoid affecting /otsing/)
#search
    #search-results
        background transparent
        padding 0

        .search-result
            background hsla(0, 0%, 8%, 0.7)
            border-radius 0.4em
            margin-bottom 1em
            padding 0
            overflow hidden

            .labels
                padding 0.5em 0.75em 0
                span
                    font-size 0.75em
                    padding 0.25em 0.6em
                    border-radius 0.25em
                    margin-right 0.35em
                    margin-left 0
                    display inline-block
                    margin-bottom 0.25em

            > .row
                margin 0

            h3.search-result-name
                padding 0.4em 0.75em
                margin 0
                font-size 1em
                line-height 1.4

            .col-5
                padding 0.75em
                p
                    font-size 0.8em
                    line-height 1.4
                .search-result-feedback
                    position static
                    transform none
                    display inline-block
                    margin-top 0.75em
                    font-size 0.8em
                    opacity 0.6
                    transition opacity 0.2s
                    &:hover
                        opacity 1

            .search-result-info
                padding 0.75em
                label
                    font-size 0.85em
                p
                    font-size 0.8em
                    line-height 1.4
                    margin-bottom 0.35em

                .pere
                    margin-top 0.5em
                    li
                        font-size 0.8em
                        line-height 1.4
                        margin-bottom 0.2em

                .episoodid
                    margin-top 0.5em
                    li
                        font-size 0.8em
                        line-height 1.4
                        margin-bottom 0.2em

            .search-result-plaque
                padding 0.75em
                text-align right
                .plaque-info
                    font-size 2em
                    line-height 1.2
                p
                    font-size 0.8em
                    line-height 1.4

        .mitterelevantne
            background-color hsla(104, 33%, 33%, 0.35)

        .nonperson
            background-color hsla(351, 52%, 43%, 0.6)

#pagination
    padding 1em 0
    #load-more
        color var(--emem-v2ljataust)
        background-color var(--emem-nuputaust)
        border 1px solid var(--emem-nuputaust)
        border-radius 0.4em
        padding 0.5em 2em
        cursor pointer
        font-size 0.9em
        transition background-color 0.2s
        &:hover
            background-color var(--emem-nupp-hover)
            color var(--emem-valge)
        &:disabled
            opacity 0.6
            cursor wait
    #pagination-status
        font-size 0.85em
        color var(--emem-tekst)

// Baas feedback popup styling
#popup-background
    cursor pointer

#popup-content
    background-color var(--emem-v2ljataust)
    color var(--emem-v2ljatekst)
    border-radius 0.5em
    top 3%
    bottom 3%
    right 15%
    left 15%
    padding 1.5em 2em
    box-shadow 0 8px 32px rgba(0, 0, 0, 0.4)

    @media (max-width: 768px)
        right 5%
        left 5%
        padding 1em 1.25em

    @media (max-width: 576px)
        right 2%
        left 2%
        top 2%
        bottom 2%
        padding 1em

    h2
        color var(--emem-nuputaust)
        font-size 1.4em
        line-height 1.3
        margin 1em 0

        @media (max-width: 576px)
            font-size 1.1em

    a
    a:active
    a:hover
    a:visited
        color var(--emem-nuputaust)

    hr
        border-color rgba(49, 2, 2, 0.15)

#popup-close-btn
    position absolute
    top 0.5em
    right 0.5em
    background transparent
    border none
    font-size 1.8em
    line-height 1
    color var(--emem-nuputaust)
    cursor pointer
    padding 0.1em 0.35em
    border-radius 0.2em
    transition background-color 0.2s
    z-index 10
    &:hover
        background-color rgba(49, 2, 2, 0.08)

#db-feedback
    .feedback-section-title
        color var(--emem-nuputaust)
        font-size 1.1em
        font-weight 600
        margin-top 1.5em
        margin-bottom 0.3em
        padding-bottom 0.3em
        border-bottom 1px solid rgba(49, 2, 2, 0.15)

    .form-group
        margin-top 1.5em !important
        label.form-label
            font-size 0.85em
            font-weight 600
            color var(--emem-nuputaust)
            margin-bottom 0.3em
        input
        textarea
        select
            background-color white
            border 1px solid rgba(49, 2, 2, 0.2)
            border-radius 0.3em
            padding 0.45em 0.6em
            font-size 0.9em
            color var(--emem-v2ljatekst)
            transition border-color 0.2s
            &:focus
                outline none
                border-color var(--emem-nuputaust)
        textarea
            resize vertical

    .text-right
        display flex
        justify-content flex-end
        gap 0.5em
        padding-top 0.5em
        padding-bottom 1em

    #db-feedback2-cancel
        background-color transparent
        border 1px solid rgba(49, 2, 2, 0.3)
        color var(--emem-v2ljatekst)
        border-radius 0.3em
        padding 0.45em 1.2em
        font-size 0.85em
        cursor pointer
        transition all 0.2s
        &:hover
            background-color rgba(49, 2, 2, 0.05)

    #db-feedback-submit
        background-color var(--emem-nuputaust)
        color var(--emem-v2ljataust)
        border 1px solid var(--emem-nuputaust)
        border-radius 0.3em
        padding 0.45em 1.5em
        font-size 0.85em
        cursor pointer
        transition background-color 0.2s
        &:hover
            background-color var(--emem-nupp-hover)
        &:disabled
            opacity 0.6
            cursor wait

#db-feedback-text
    font-size 0.9em
    line-height 1.5
    p
        margin-bottom 0.5em

#db-feedback-success
    color var(--emem-nuputaust)

#db-feedback-error
    color hsl(0, 70%, 45%)

.crossfade {
    display: inline;
    cursor: pointer;
    position: relative;
    width: 1.5em;
    margin: 0 auto;
    img {
        filter: invert(50%);
        position:absolute;
        width: inherit;
        left: 0;
        -webkit-transition: opacity 0.4s ease-in-out;
        -moz-transition: opacity 0.4s ease-in-out;
        -o-transition: opacity 0.4s ease-in-out;
        transition: opacity 0.4s ease-in-out;
    }

    img.transparent {
        filter: invert(50%) sepia(100%) hue-rotate(90deg) saturate(3);
        opacity :0;
    }
}

dialog::backdrop {
  background-color: hsla(30, 100%, 50%, 0.15);
}

div.pere {
    .folded {
        display: none;
    }
    div.pereliige:nth-of-type(odd) {
    }
    li {
        font-size: 0.8rem;
    }
    div.perekirjed {
        padding: 0.5em 0.5em 0.5em 1em;
        background-color: hsla(0, 0%, 61%, 0.1);
        margin-bottom: 1em;
    }
}

.google-search {
    background: #55c735;
    color: rgb(251 255 2 / 60%) !important
    border-radius: 10px;
    padding: 5px;
    width: 1em;
    height: 1em;
    margin-left: 1em;
    display: inline-block;
}

// Mobile responsive
@media (max-width: 767px)
    #search
        margin-top 1rem
        padding 0 1rem

    .advanced-section
        display none !important
        &.open
            display block !important

    #searchForm
        // Main search bar: wrap so input goes full width, buttons below
        .col-12:first-child
            flex-wrap wrap
            #mainSearchInput
                width 100%
                flex 1 1 100%
                border-radius 0.4em
                border-right 1px solid rgba(49, 2, 2, 0.2)
                margin-bottom 0.5em
            #mainSearchButton
                flex 1 1 0
                border-radius 0.4em 0 0 0.4em
            #clearSearchButton
                flex 0 1 auto
                margin-left 0
                border-radius 0 0.4em 0.4em 0
                border-left none

        // Detail fields: stack label above input
        #episoodifilter
            label
                text-align left
                padding 0 0 0.2em 0
                margin-right 0
            .form-check.col-md-12
                display flex
                flex-direction column
                label.form-check-label
                    width 100%
                    max-width 100%
                    flex none
                input.form-check-input.emem-text-input
                    width 100%
                    max-width 100%
                    flex none
            .elukoht-row
                flex-direction column
                align-items stretch
                .form-check-label
                    width 100%
                    max-width 100%
                .elukoht-autocomplete
                    width 100%
                    max-width 100%

        .form-check.col-lg-4
            .form-check
                width auto

    .baas-header
        flex-direction column
        align-items flex-start
        gap 0.5em

@media print {
    * {
        color: #000 !important;
        background: none !important;
        overflow: visible !important;
    }

    #text {
        height: 100% !important;
        padding: 0 !important;
        background: none !important;
    }

    #text-pagetitle, #text-title {
        display: none !important;
    }

    #text-content {
        margin-top: 0 !important;
    }

    #search {
        width: 100% !important;
        max-width: 100% !important;
        flex-basis: 100% !important;
    }

    #search button {
        display: none !important;
    }

    #search input {
        margin-bottom: .5rem !important;
        padding: 0 !important;
    }

    #search .search-result .search-result-name {
        border-bottom: 1px solid #808080!important;
    }

    #navigation {
        display: none !important;
    }

    .lang-toggle, #pagination, .baas-description {
        display: none !important;
    }
}
